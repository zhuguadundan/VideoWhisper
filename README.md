# VideoWhisper - è§†é¢‘æ™ºè¯­ ğŸ¥âœ¨

> å½“å‰ç‰ˆæœ¬ï¼šv3.6.0 | æœ€åæ›´æ–°ï¼š2025-09-10

æœ¬é¡¹ç›®å®Œå…¨ä¾èµ–ç¡…åŸºæµåŠ¨æœåŠ¡ï¼Œå¦‚æœªæ³¨å†Œè¯·ç‚¹å‡»ä¸‹æ–¹é‚€è¯·é“¾æ¥æ³¨å†Œå¯è·14å…ƒèµ é‡‘
https://cloud.siliconflow.cn/i/uy4d8V8Y

æ™ºèƒ½è§†é¢‘è½¬æ–‡æœ¬å¤„ç†ç³»ç»Ÿï¼Œæ”¯æŒè¯­éŸ³è½¬å½•å’ŒAIå†…å®¹åˆ†æã€‚ä»…éœ€ä¸€ä¸ªç¡…åŸºæµåŠ¨APIå³å¯å®Œæˆå…¨æµç¨‹


**å…è´£å£°æ˜**
æœ¬é¡¹ç›®100%ç”±claude-sonnet-4å¼€å‘ï¼Œè¯·è°¨æ…å…¬ç½‘ä½¿ç”¨

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ **è§†é¢‘å¤„ç†**: æ”¯æŒYouTube\bilibiliç­‰ä¸»æµå¹³å°ï¼Œè‡ªåŠ¨ä¸‹è½½è½¬å½•
- ğŸ¤– **AIåˆ†æ**: é›†æˆç¡…åŸºæµåŠ¨è¿›è¡Œæ™ºèƒ½æ‘˜è¦å’Œå†…å®¹åˆ†æ  
- ğŸ“ **æ–‡ä»¶ç®¡ç†**: å®Œæ•´çš„ä»»åŠ¡å†å²å’Œæ–‡ä»¶æ‰¹é‡ç®¡ç†
- âš™ï¸ **åœ¨çº¿é…ç½®**: Webç•Œé¢ç›´æ¥é…ç½®APIå¯†é’¥
- ğŸ³ **å®¹å™¨éƒ¨ç½²**: Dockerä¸€é”®éƒ¨ç½²ï¼Œç®€å•æ˜“ç”¨

## ğŸ“ˆ ç‰ˆæœ¬æ›´æ–°

### v3.6.0 (2025-09-10) - æ”¯æŒä¸­è‹±å¯¹ç…§ç¿»è¯‘ ğŸš€
- âœ… æ–°å¢æŒ‰é’®ä¸€é”®ç¿»è¯‘æˆä¸­è‹±æ–‡å¥å¯¹å¥ç¿»è¯‘ç‰ˆ
- âœ… reviewä»£ç ä¿®å¤å¤§é‡å¾®å°é”™è¯¯åŠå®‰å…¨æ€§æå‡ï¼Œé˜²æ­¢æ–‡ä»¶è·¯å¾„éå†ï¼Œæ—¥å¿—è„±æ•
- âœ… æ–°å¢ç™½åå•åŠŸèƒ½ï¼Œå¯ç”¨è¯·åœ¨composeä¸­æ·»åŠ ç¯å¢ƒå˜é‡ALLOWED_API_HOSTS=ä½ çš„åŸŸå

### v3.5.0 (2025-09-03) - æ”¯æŒæœ¬åœ°éŸ³è§†é¢‘ä¸Šä¼  ğŸš€
- âœ… æ”¯æŒæœ¬åœ°éŸ³è§†é¢‘ä¸Šä¼ è½¬å½•é€å­—ç¨¿
- âœ… æ–°å¢ä¸€é”®åœæ­¢æ‰€æœ‰ä»»åŠ¡æŒ‰é’®
- âœ… æ–°é•œåƒå·²æ¨é€dockerhub

### v3.4.0 (2025-08-24) - debug ğŸš€
- âœ… YouTubeåŠ å¼ºäº†åæœºå™¨äººæªæ–½ï¼Œè¦æ±‚ä½¿ç”¨PO Tokenï¼ˆProof of Origin Tokenï¼‰è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæœ€æ–°é•œåƒæ›´æ–°yt-dlpåˆ°æœ€æ–°ç‰ˆå¹¶æ›´æ–°cookieå¤„ç†æ–¹å¼å·²ä¿®å¤æ­¤é—®é¢˜

### v3.3.0 (2025-08-23) - è‡ªç­¾httpsæ”¯æŒ ğŸš€
- âœ… obsidianå¯¼å…¥ç”±äºæµè§ˆå™¨å®‰å…¨é™åˆ¶å¿…é¡»æœ¬åœ°å¯åŠ¨æˆ–è€…å¯åŠ¨httpsï¼Œæ·»åŠ å¼€ç®±å³ç”¨çš„è‡ªç­¾httpsè¯ä¹¦é»˜è®¤ç«¯å£5443ï¼ˆéœ€æ›´æ–°dockercomposeï¼‰ï¼ŒåŒæ—¶ä¿ç•™httpè®¿é—®ï¼Œæœ€æ–°é•œåƒå·²ä¸Šä¼ dockerhub
- âœ… åŒæ—¶æ”¯æŒå¤–éƒ¨åå‘ä»£ç†ï¼Œå¯ä»¥ç›´æ¥ç”¨npmã€luckyç­‰å¯è§†åŒ–åå‘ä»£ç†å·¥å…·ç›´æ¥åå‘ä»£ç†http5000ç«¯å£

### v3.2.0 (2025-08-19) - debug ğŸš€
- âœ… ä¿®å¤TranscriptionSegmentåˆå§‹åŒ–å‚æ•°é”™è¯¯å¯¼è‡´å°äº5åˆ†é’Ÿçš„çŸ­è§†é¢‘æ— æ³•ç”Ÿæˆé€å­—ç¨¿
- âœ… ä¿®å¤å¤„ç†è§†é¢‘é˜¶æ®µä¸Šä¼ è€…ä¼šå¤ç”¨ä¸Šä¸ªè§†é¢‘ä¿¡æ¯çš„é—®é¢˜


### v3.1.0 (2025-08-18) - obsidian ğŸš€
- âœ… ä¿®å¤è¶…è¿‡4000å­—åæ–‡æœ¬æˆªæ–­çš„é—®é¢˜
- âœ… ä¿®å¤è‡ªå®šä¹‰AIæ–‡æœ¬åˆ†æbase urlä¸ç”Ÿæ•ˆçš„é—®é¢˜
- âœ… æ–°å¢obsidianä¸€é”®å¯¼å…¥åŠŸèƒ½
- âœ… ä¿®æ”¹é€å­—ç¨¿ä¸‹è½½æ ¼å¼å¼ƒç”¨TXTæ”¹ç”¨markdown

### v3.0.5 (2025-08-09) - å®¹å™¨ä¼˜åŒ– ğŸš€
- âœ… è¿›åº¦æ¡æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å…·ä½“çš„æè¿°å’Œè¿›åº¦è¯¦æƒ…
- âœ… è½¬å½•å®Œæˆåç«‹å³æ˜¾ç¤ºé€å­—ç¨¿ï¼Œæ— éœ€ç­‰å¾…æ€»ç»“åˆ†æå®Œæˆ
- âœ… ä¸ºé€å­—ç¨¿å¢åŠ ä¸€é”®å¤åˆ¶åŠŸèƒ½

### v3.0.0 (2025-08-07) - å®¹å™¨åŒ–é‡æ„ ğŸš€
- âœ… Dockerå®¹å™¨åŒ–éƒ¨ç½²ä¼˜åŒ–
- âœ… ç³»ç»Ÿæ¶æ„é‡æ„å’Œæ€§èƒ½æå‡
- âœ… ç®€åŒ–é…ç½®ç®¡ç†å’Œéƒ¨ç½²æµç¨‹
- âœ… å¢å¼ºé”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ

### v2.1.1 (2025-08-06) - ä»»åŠ¡ç®¡ç†ä¼˜åŒ–
- âœ… ä»»åŠ¡ç®¡ç†ç³»ç»Ÿä¼˜åŒ–
- âœ… æ–‡ä»¶ç®¡ç†å’Œæ‰¹é‡æ“ä½œå¢å¼º
- âœ… ç³»ç»Ÿç¨³å®šæ€§å’Œæ€§èƒ½æå‡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Python Flask + yt-dlp + FFmpeg
- **AIæœåŠ¡**: SiliconFlowè¯­éŸ³è¯†åˆ« + OpenAI/Geminiæ–‡æœ¬å¤„ç†
- **å‰ç«¯**: Bootstrap 5 + JavaScript
- **éƒ¨ç½²**: Dockerå®¹å™¨åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

è¯¦ç»†å›¾æ–‡æ•™ç¨‹å¯è§[å…¬ä¼—å·æ–‡ç« ](https://mp.weixin.qq.com/s/DOTWF3UGV9Dvi3xQxAfJcg)

### Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

ä¸‹è½½docker-compose.ymlæ–‡ä»¶
ä¿®æ”¹ç«¯å£å’Œå­˜å‚¨ç›®å½•
cdåˆ°composeæ–‡ä»¶ç›®å½•æ‰§è¡Œ
`docker-compose up -d`

æˆ–è€…æ‰§è¡Œdocker runå‘½ä»¤ï¼ˆä»…æµ‹è¯•ç”¨ï¼Œæ— æŒä¹…åŒ–å­˜å‚¨é‡å¯åæ•°æ®ä¸¢å¤±ï¼‰
`docker run -d --name videowhisper -p 5000:5000 zhugua/videowhisper:latest`

### ä¼ ç»Ÿéƒ¨ç½²

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. å®‰è£…FFmpeg
 Windows: powershell -ExecutionPolicy Bypass -File install-ffmpeg-en.ps1
# Linux: sudo apt install ffmpeg
# macOS: brew install ffmpeg

# 3. è¿è¡Œåº”ç”¨
python run.py
 
# 4. è¿è¡Œæœ€å°åŒ–å†’çƒŸæµ‹è¯•ï¼ˆå¯é€‰ï¼‰
pytest -q
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

1. **é…ç½®APIå¯†é’¥**: è®¿é—®è®¾ç½®é¡µé¢é…ç½®SiliconFlowå¯†é’¥
2. **å¤„ç†è§†é¢‘**: è¾“å…¥è§†é¢‘URLï¼Œé€‰æ‹©AIæ¨¡å‹ï¼Œå¼€å§‹å¤„ç†
3. **æŸ¥çœ‹ç»“æœ**: è‡ªåŠ¨ç”Ÿæˆæ–‡æœ¬è½¬å½•ã€æ™ºèƒ½æ‘˜è¦å’Œåˆ†ææŠ¥å‘Š
4. **æ–‡ä»¶ç®¡ç†**: åœ¨æ–‡ä»¶é¡µé¢ç®¡ç†æ‰€æœ‰å¤„ç†ç»“æœ

## ğŸ“ è¾“å‡ºæ–‡ä»¶

æ¯ä¸ªå¤„ç†ä»»åŠ¡ç”Ÿæˆçš„æ–‡ä»¶ï¼š

- **transcript.txt** - çº¯å‡€æ–‡å­—è½¬å½•
- **summary.md** - AIæ™ºèƒ½æ‘˜è¦æŠ¥å‘Š  
- **data.json** - å®Œæ•´å¤„ç†æ•°æ®

## ğŸ§ª æµ‹è¯•

```bash
python test_simple.py      # åŸºç¡€ç»„ä»¶æµ‹è¯•
python test_complete.py    # å®Œæ•´é›†æˆæµ‹è¯•
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯**

## è‡´è°¢

- [yt-dlp](https://github.com/yt-dlp/yt-dlp) 
- [ç¡…åŸºæµåŠ¨](https://cloud.siliconflow.cn/) 

---

**VideoWhisper - è®©è§†é¢‘å†…å®¹è§¦æ‰‹å¯åŠ âœ¨**

[ğŸ  é¦–é¡µ](https://github.com/zhuguadundan/VideoWhisper) â€¢ [ğŸ› åé¦ˆ](https://github.com/zhuguadundan/VideoWhisper/issues)

Made with â¤ï¸ by VideoWhisper Team

## å®‰å…¨è¯´æ˜ï¼ˆé‡è¦ï¼‰

- æ–‡ä»¶æ¥å£å·²åŠ è·¯å¾„æ ¡éªŒï¼Œä¸‹è½½/åˆ é™¤ä»…é™ `temp/` ä¸ `output/` èŒƒå›´ï¼Œé˜²æ­¢è·¯å¾„éå†ã€‚
- API è¿æ¥æµ‹è¯•å¯¹è‡ªå®šä¹‰ Base URL åšåŸºç¡€æ ¡éªŒä»¥é™ä½ SSRF é£é™©ï¼›å·²æä¾›å¼€å…³ä»¥å…¼å®¹æ›´å¤šéƒ¨ç½²ï¼š
- å…è®¸ `http`ï¼ˆé»˜è®¤å¼€å¯ï¼Œæ–¹ä¾¿å‡çº§ç”¨æˆ·æ— ç¼ä½¿ç”¨ï¼‰ï¼š`security.allow_insecure_http: true` æˆ–ç¯å¢ƒå˜é‡ `ALLOW_INSECURE_HTTP=true`ã€‚
- å…è®¸ç§ç½‘/æœ¬åœ°åœ°å€ï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼š`security.allow_private_addresses: true` æˆ– `ALLOW_PRIVATE_ADDRESSES=true`ã€‚
- æ—¥å¿—ç»Ÿä¸€è¾“å‡ºåˆ° `logs/app.log`ï¼Œå¯¹ `api_key`ã€`token`ã€`authorization` ç­‰æ•æ„Ÿå­—æ®µåšè„±æ•è®°å½•ã€‚
- å¦‚éœ€è¿›ä¸€æ­¥é™åˆ¶å¯è®¿é—®çš„ API åŸŸåï¼Œå¯è®¾ç½®ç™½åå•ï¼ˆå¯é€‰ï¼‰ï¼š
   - ç¯å¢ƒå˜é‡ï¼š`ALLOWED_API_HOSTS=api.siliconflow.cn,api.openai.com`
   - æˆ– `config.yaml` -> `security.allowed_api_hosts`
   - è‹¥å¸Œæœ›å¼ºåˆ¶ç™½åå•ç”Ÿæ•ˆï¼ˆå¯é€‰ï¼‰ï¼š`security.enforce_api_hosts_whitelist: true` æˆ– `ENFORCE_API_HOSTS_WHITELIST=true`

### å…¼å®¹æ¨¡å¼ä¸ç”Ÿäº§å»ºè®®

- ä¸ºå…¼å®¹å·²æœ‰ç”¨æˆ·ä¸è‡ªå»ºåä»£ï¼Œè¿æ¥æµ‹è¯•æ¥å£é»˜è®¤å…è®¸ `http` ä¸ç§ç½‘/æœ¬åœ°åœ°å€ï¼ˆå³ `security.allow_insecure_http: true` ä¸ `security.allow_private_addresses: true`ï¼‰ã€‚
- ç”Ÿäº§ç¯å¢ƒå»ºè®®æ”¹ä¸ºâ€œä¸¥æ ¼æ¨¡å¼â€ä»¥é™ä½ SSRF é£é™©ï¼š
  - è®¾ç½® `security.allow_insecure_http: false`ã€`security.allow_private_addresses: false`ï¼›
  - å¹¶å¯ç”¨ç™½åå•ï¼š`security.enforce_api_hosts_whitelist: true`ï¼Œé…åˆ `security.allowed_api_hosts`ï¼ˆæˆ–ç¯å¢ƒå˜é‡ `ALLOWED_API_HOSTS`ï¼‰ã€‚
- è¯´æ˜ï¼šä¸Šè¿°é™åˆ¶ä»…ä½œç”¨äºâ€œè¿æ¥æµ‹è¯•æ¥å£â€ï¼Œå®é™…å¤„ç†æµç¨‹ä¸ä¼šè¢«æ­¤æ ¡éªŒæ‹¦æˆªã€‚
